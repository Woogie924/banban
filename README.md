# 🐥 SSAFY 공통 프로젝트
<img src="https://img.shields.io/badge/results-Responsive WebApp-blue">
<img src="https://img.shields.io/badge/framework-Vue.js 2.0-green">
<img src="https://img.shields.io/badge/framework-Spring Boot-green">
<img src="https://img.shields.io/badge/DataBase-MySQL-green">
<img src="https://img.shields.io/badge/version-v1.0.0-red">
<br>

## Core Team  😜

<table>
   <tr>
      <td>
        <img width="160px" src="https://lab.ssafy.com/webmobile1-sub1/s02p11d138/raw/develop/KakaoTalk_20200109_090135135.jpg"><br>
         [홍성욱](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://lab.ssafy.com/webmobile1-sub1/s02p11d138/raw/develop/Profile/%EC%9D%B4%EC%9D%91%EC%9E%AC.jpg"><br>
         [이응재](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://lab.ssafy.com/webmobile1-sub1/s02p11d138/raw/develop/Profile/%EA%B9%80%ED%98%84%EC%9A%B0.jpg"><br>
         [김현우](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://lab.ssafy.com/webmobile1-sub1/s02p11d138/raw/develop/Profile/%EB%B0%95%EA%B5%90%EC%97%B4.jpg"><br>
         [박교열](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://lab.ssafy.com/webmobile1-sub1/s02p11d138/raw/develop/Profile/%EA%B9%80%EC%A0%95%EB%8D%95.jpg"><br>
         [김정덕](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
   </tr>
</table>


## 🤲 OverView<br> 
### Goal
> - SPA(Single Page Application)의 개념을 이해 
> - 반응형 웹(Responsive Web)의 특징을 파악 
> - 사용자 친화적이고 다양한 디바이스에 최적화 된 웹을 구현하는 것
> - 혼자 사는 사용자에게 혼자 배달음식을 먹을 때의 최소 주문 금액, 너무 많은 양과 같은 문제를 푸드테크 서비스를 제공하는 웹 서비스 제작

### Used Technology
>- Vue.js (FrontEnd)
>    - 컴포넌트 단위의 관리로 유지보수와 재사용성이 높은 Vue.js 활용
>- AWS (BackEnd)
>- goole cloud platform SQL (BackEnd DB)
>- Spring Boot (BackEnd)

## ✨ Prequuisited<br>
### develop machine Spec
>- Gitlab - SSAFY gitlab 사용합니다. 문제 발생시 [gitLab docs](https://lab.ssafy.com/help)를 활용합니다.
>- Vue.js - VS Code 설치 및 [Vue.js 공식 웹사이트](https://kr.vuejs.org/index.html) 및 [StackOverflow](https://stackoverflow.com/)를 통해 시작합니다
>- Node.js - Node.js 및 npm 패키지 관리자 다운로드 설치합니다
>- Jira - [SSAFY jira](https://jira.ssafy.com/secure/Dashboard.jspa)를 사용합니다. jira를 통해 issue 및 WorkFlow 등 전반적인 스프린트를 관리합니다.
>- MySQL
>- Spring Boot



## 🎫 프로젝트 수행 목록
<table>
<tr><th>Sprint 01</th><th>Sprint 02</th><th>Sprint 03</th></tr>
<tr><td>1. 프로젝트 개발 환경 설정</td><td>1. 필요한 API항목 도출</td><td>1. 필요한 API 항목 도출 및 정의</td></tr>
<tr><td>2. Firebase 연동</td><td>2. 로그인</td><td>2. 프로젝트 소개 페이지(Intro) 추가</td></tr>
<tr><td>3. About Me 리사이징</td><td>3. 소셜 로그인</td><td>3. 신규 카테고리 추가</td></tr>
<tr><td>4. Portfolio 리사이징</td><td>4. 권한 관련 기능</td><td>4. ERD 작성</td></tr>
<tr><td>5. 이미지 배너 리사이징</td><td>5. 이미지 업로더 기능</td><td>5. 오프라인 기능 구현</td></tr>
<tr><td>6. 네비게이션 바</td><td>6. 게시판 CRUD</td><td>6. 관리자 기능</td></tr>
<tr><td>7. 모바일 사이드 바</td><td>7. 게시판 상세페이지</td><td>7. Daum 주소 API, 카카오 지도 API 연동</td></tr>
<tr><td>8. 사용자 정보 Drawer</td><td>8.게시판 백엔드 연동</td><td>8. UI 레이아웃 및 CSS 개선</td></tr>
<tr><td>9. FrontEnd 배포</td><td>9. 회원 가입</td><td>9. FrontEnd 배포</td></tr>
<tr><td>10. 기능 테스트</td><td>10. 최종 결과물을 master 가 master Branch 로 합병</td><td>10. 기능 테스트</td></tr>
</table>
<br>

## 🎲 파일/디렉터리 구조
#### Front-End
> - assets
>    - 프로젝트에 필요한 정적 리소스가 위치하는 디렉토리
>    - 이미지, 외부 css, 외부 js등
> - components
>    - 페이지 단위 컴포넌트에서 쓰이는 소규모 컴포넌트가 위치하는 디렉토리
> - services
>    - 프로젝트에 필요한 로직과 관련된 함수 js 파일이 위치하는 디렉토리
> - views
>    - 페이지 단위의 컴포넌트가 위치하는 디렉토리

> - router.js : 라우터 설정 관련 파일
> - store.js : vuex 파일
> - App.vue : 최상위 컴포넌트
> - main.js : 최상위 컴포넌트를 최초 호출하는 JavaScript 파일

#### Back-End
> - controller
>    - 정보 요청을 처리하는 각각의 controller가 위치하는 디렉토리
> - vo
>    - 정보를 save&load할 때 사용하는 객체가 위치하는 디렉토리
> - service
>    - @service단의 각각의 service가 위치하는 디렉토리
> - dao
>    - @Repository단의 각각의 dao가 위치하는 디렉토리
> - error
>    - 예외처리를 위한 클래스가 위치하는 디렉토리
> - interceptor
>    -사용자의 요청전 사용자의 권한을 인증하는 interceptor가 위치하는 디렉토리

## 🤦 SetUp
### NPM 설치
- [Node.js 공식 홈페이지](https://nodejs.org/ko/) 접속
- 안정성과 신뢰도가 높은 LTS 버전 선택 권장

### NPM 설치여부, 설치된 버전 확인
```cmd
> npm --version
```

### Vue.js, Vue-cli, Firebase 패키지 설치
> ```cmd
> C:\> cd webmobile-skeleton
> C:\webmobile-skeleton> npm install
> C:\webmobile-skeleton> npm install -g yarn
> C:\webmobile-skeleton> npm install -g @vue/cli
> C:\webmobile-skeleton> npm install vue
> C:\webmobile-skeleton> npm install -g firebase-tools
> C:\webmobile-skeleton> npm list
> ```

### npm 이미지 업로더
> ```cmd
> //1. vue-filepond filepond 설치
> $ npm install vue-filepond filepond --save
> 
> //2. 플러그인 설치 옵션 사항
> $ npm install filepond-plugin-file-validate-type --save
> $ npm install filepond-plugin-image-preview --save
> ```

### axios
> ```cmd
> npm install axios
> ```

### Vuex
> ```cmd
> npm install --save vue-session
> npm install --save vuex-persistedstate
> ```

### icon & font
> ```cmd
> npm install @fortawesome/fontawesome-free -D
> npm install @mdi/js -D
> ```


## 😆 Run
### 프로젝트 로컬 실행
#### Front-End
> "App running" 메시지 확인
> ```cmd
> npm run serve
> ```
> cmd창에 뜨는 브라우저 주소로 접속


#### Back-End
> 1. SubPjt_Back_End 프로젝트와 socket 프로젝트 오른쪽 마우스 클릭
> 2. Run As - Spring Boot App 실행
> 3. 에러가 없으면 정상 작동한다는 뜻 


## 👌 Deploy 
### AWS 서버 배포
#### Front-End 
---
##### Build
> 1. 해당 Front-End 프로젝트 폴더에서 cmd창을 실행
> 2. cmd 창에서 아래의 명령어를 실행
> ```cmd
> npm run build
> ```
> 3. build 완료 후 dist 폴더 안에 있는 파일들을 Back-End의 SubPjt_Back_End의 src-main-webapp 폴더 아래 복사


#### Back-End
---
##### 1. WinSCP
- **WinSCP는 마이크로소프트 윈도용으로 개발된 자유 및 오픈 소스 SFTP, SCP 및 FTP 클라이언트**
- **git bash로 aws ubuntu작업하는 것이 불편하기 때문에 설치**
- **[다운로드 사이트(클릭시 바로 다운)](https://winscp.net/download/WinSCP-5.15.9-Setup.exe)**

- 설정 방법
    1. **SCP 프로토콜 선택, 호스트 ip입력, 사용자이름에 ubuntu 입력**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b590cf13-ef8a-454c-b7d3-b1b1ae64cd63/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b590cf13-ef8a-454c-b7d3-b1b1ae64cd63/Untitled.png)

    **2. 고급 선택**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/35dafe00-1a50-436c-ad92-4de80e65fbc9/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/35dafe00-1a50-436c-ad92-4de80e65fbc9/Untitled.png)

    **3. 인증, 파일 선택 클릭(.pem 파일 넣어야함)**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cdf924e1-1638-465b-9c52-5af2b920f6b1/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cdf924e1-1638-465b-9c52-5af2b920f6b1/Untitled.png)

    **4. 모든 개인키 파일 선택**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2e17ae6f-e068-47be-97ba-15a316806e37/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2e17ae6f-e068-47be-97ba-15a316806e37/Untitled.png)

    **5. .pem 파일을 .ppk로 바꾸어 줌 → 확인 클릭**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd8f3922-38c6-484a-b695-3843ddc6bf76/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd8f3922-38c6-484a-b695-3843ddc6bf76/Untitled.png)

    **6.  변환된 키 저장하고 cert.ppk 파일 선택**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/268c4c54-07fb-4436-8531-ef5798a802c6/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/268c4c54-07fb-4436-8531-ef5798a802c6/Untitled.png)

    **7. 해당 윈도우 창이 뜨면 성공**

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7b1f89c0-61e3-44b3-afcd-8d79a8227ac9/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7b1f89c0-61e3-44b3-afcd-8d79a8227ac9/Untitled.png)

    - **왼쪽이 내로컬 pc, 오른쪽이 원격(aws 서버)**
    - **home/ubuntu/ 하위 폴더 아래에 .war 배포**
##### 2. database(goole cloud platform SQL)
[MySQL용 Cloud SQL 빠른 시작 | Google Cloud](https://cloud.google.com/sql/docs/mysql/quickstart?hl=ko)

- **더하기 클릭**

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6bbc66e3-4de3-4aa6-9007-85eb08a64319/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6bbc66e3-4de3-4aa6-9007-85eb08a64319/Untitled.png)

- **아래 사진에 표시해둔 순서대로 클릭**
    1. 커낵션 이름: 원하는 이름 사용
    2. Hostname GCP(구글 클라우드 플랫폼)에 있는 sql 서버 ip를 호스트 사용 포트는 3306

        ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f8e6a300-125b-414f-bdb5-0da64b5e4e88/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f8e6a300-125b-414f-bdb5-0da64b5e4e88/Untitled.png)

      3.  구글 sql 인스턴스 생성시 root 비밀번호 설정한 것 기입

      4. 테스트 연결 해서 성공하면 완료

      5. ok 누르면  생성

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9576ae0a-8f76-4278-8a5a-616880ebbe33/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9576ae0a-8f76-4278-8a5a-616880ebbe33/Untitled.png)

- **구글 mysql 서버는 public ip 사용 함으로 해당 ip로 접근한다는 것을 알려 줘야함**

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e6488cb5-2f12-45aa-b84a-eb92528f6473/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e6488cb5-2f12-45aa-b84a-eb92528f6473/Untitled.png)

- **연결 클릭**

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9c40a4b1-c484-447b-a14b-270522c16de4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9c40a4b1-c484-447b-a14b-270522c16de4/Untitled.png)

- **새 네트워크로 접속하려는 ip주소 입력 → ipv4 형식의 ip 주소 넣어야함**
- **만약 배포했을 때 db서버와 WAS 서버가 다른경우 WAS서버가 배포되고 있는 컴퓨터의 ip를**

    **구글mysql서버에다가 등록해주어야 함**

- **aws host 입력하면 됨**

##### 3. .war file build

> 1. 해당 프로젝트 오른쪽 마우스 클릭 - Run As - 4 Maven Build 클릭
> 2. goal에 package입력 후 war파일로 build 

## 🥨Commit/Branch Rules
### Commit
 #### Commit Message 7 Rules
> 1. 제목과 본문을 한 줄 띄워 분리하기
> 2. 제목은 영문 기준 50자 이내로
> 3. 제목 첫글자를 대문자로
> 4. 제목 끝에 . 금지
> 5. 제목은 명령조로
> 6. 본문은 영문 기준 72자마다 줄 바꾸기
> 7. 본문은 어떻게보다 무엇을, 왜에 맞춰 작성하기

 #### 단어 목록
> ##### 기본적으로 [타입] "무엇을" + "왜" 형식으로 관리
> 1. 수정 :: fix
> ```
> //비정상적 동작일 때, 
> //버그 잡을 때,
> [Fix] "무엇을" + ("왜")
> ```

> 2. 수정 :: update
> ```
> //정상적으로 동작할 때, 수정,추가,보완할 때
> [Update] "무엇을" + ("왜")
> ```

> 3. 추가 :: add
> ```
> [Add] "무엇을" + ("왜")
> ```

> 4. 삭제 :: remove
> ```
> [Remove] "무엇을" + ("왜")
> ```

> 5. 전면 수정 :: refactor
> ```
> [Refactor] "무엇을" + ("왜")
> ```

### Branch Naming (브랜치 명명 규칙)
> ##### > Gitlab에는 master와 develop 브랜치, 그리고 master 브랜치의 TAG만 관리한다.

> #### 개발자 PC
> 개발자는 PC에 release, hotfix, feature, issue 브랜치를 생성하여 작업을 진행한다.
> 작업이 완료된 브랜치는 병합후 삭제 가능하며, Gitlab에 반영하지 않는다.

> #### release 브랜치
> - develop 브랜치로부터 생성하는 브랜치이다.
> - 명명 규칙 : release/버젼넘버
>    ex) `release/2.0.0`
> - 브랜치 생성 후에는 버그 픽스만 반영한다.
> - 최종 확정 후에는 develop, master 브랜치에 병합한다.

> #### feature 브랜치
> - develop 브랜치로부터 생성하는 브랜치이다.
> - 명명 규칙 : 년월일_feature_짧은설명
>    ex) `200207_feature_BoardTransition`
> - 완료 후 develop 브랜치에 병합한다.


## 🎵 Entity-RelationShip Diagram
![SubPJT3_erd모델링](https://user-images.githubusercontent.com/58671945/74000750-856df580-49ac-11ea-9d12-f590243215ec.png)


## 🍧 Interface
> - 링크 : [인터페이스(Swagger)](http://54.180.163.74:8080//swagger-ui.html#/)
<tr>
    <td>
        ![file-rest-Controller](https://user-images.githubusercontent.com/58671945/74000688-5c4d6500-49ac-11ea-80e9-69601975ec51.png)
    </td>
    <td>
        ![order-rest-Controller](https://user-images.githubusercontent.com/58671945/74000689-5ce5fb80-49ac-11ea-9f70-d6a7f771feff.png)
    </td>
    <td>
        ![store-rest-Controller](https://user-images.githubusercontent.com/58671945/74000690-5d7e9200-49ac-11ea-8678-1b7cafd741d1.png)
    </td>
    <td>
        ![user-rest-Controller](https://user-images.githubusercontent.com/58671945/74000693-5e172880-49ac-11ea-97e1-1ad7caa937c6.png)
    </td>
    <td>
        ![board-rest-Controller](https://user-images.githubusercontent.com/58671945/74000694-5eafbf00-49ac-11ea-9151-f8e3b67d4d61.png)
    </td>

</tr>


