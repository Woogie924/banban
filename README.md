# 🐥 SSAFY 공통 프로젝트
<img src="https://img.shields.io/badge/results-Responsive WebApp-blue">
<img src="https://img.shields.io/badge/framework-Vue.js 2.0-green">
<img src="https://img.shields.io/badge/framework-Spring Boot-green">
<img src="https://img.shields.io/badge/DataBase-MySQL-green">
<img src="https://img.shields.io/badge/version-v1.0.0-red">
<br>

## Core Team  😜

<table>
   <tr>
      <td>
        <img width="160px" src="https://user-images.githubusercontent.com/58671945/77722198-685eb600-7030-11ea-922a-0fe53305c0ef.jpg"><br>
         [홍성욱](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://user-images.githubusercontent.com/58671945/77722299-b83d7d00-7030-11ea-9b49-1d79eedb307e.jpg"><br>
         [이응재](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://user-images.githubusercontent.com/58671945/77722301-b96eaa00-7030-11ea-831b-83f158aff270.jpg"><br>
         [김현우](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://user-images.githubusercontent.com/58671945/77722303-ba074080-7030-11ea-8b13-10092b6ead65.jpg"><br>
         [박교열](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
      <td>
        <img width="160px" src="https://user-images.githubusercontent.com/58671945/77722305-bb386d80-7030-11ea-9c45-a30d0fac4ba2.jpg"><br>
         [김정덕](https://github.com/Woogie924)<br>
         <i>Project lead & Developer</i><br>
         <i>SSAFY 2기 교육생</i>
      </td>
   </tr>
</table>


## 🤲 OverView<br> 
### Goal
> - SPA(Single Page Application)의 개념을 이해 
> - 반응형 웹(Responsive Web)의 특징을 파악 
> - 사용자 친화적이고 다양한 디바이스에 최적화 된 웹을 구현하는 것
> - 혼자 사는 사용자에게 혼자 배달음식을 먹을 때의 최소 주문 금액, 너무 많은 양과 같은 문제를 푸드테크 서비스를 제공하는 웹 서비스 제작

### Used Technology
>- Vue.js (FrontEnd)
>    - 컴포넌트 단위의 관리로 유지보수와 재사용성이 높은 Vue.js 활용
>- AWS (BackEnd)
>- goole cloud platform SQL (BackEnd DB)
>- Spring Boot (BackEnd)

## ✨ Prequuisited<br>
### develop machine Spec
>- Gitlab - SSAFY gitlab 사용합니다. 문제 발생시 [gitLab docs](https://lab.ssafy.com/help)를 활용합니다.
>- Vue.js - VS Code 설치 및 [Vue.js 공식 웹사이트](https://kr.vuejs.org/index.html) 및 [StackOverflow](https://stackoverflow.com/)를 통해 시작합니다
>- Node.js - Node.js 및 npm 패키지 관리자 다운로드 설치합니다
>- Jira - [SSAFY jira](https://jira.ssafy.com/secure/Dashboard.jspa)를 사용합니다. jira를 통해 issue 및 WorkFlow 등 전반적인 스프린트를 관리합니다.
>- MySQL
>- Spring Boot



## 🎫 프로젝트 수행 목록
<table>
<tr><th>Sprint 01</th><th>Sprint 02</th><th>Sprint 03</th></tr>
<tr><td>1. 프로젝트 개발 환경 설정</td><td>1. 필요한 API항목 도출</td><td>1. 필요한 API 항목 도출 및 정의</td></tr>
<tr><td>2. Firebase 연동</td><td>2. 로그인</td><td>2. 프로젝트 소개 페이지(Intro) 추가</td></tr>
<tr><td>3. About Me 리사이징</td><td>3. 소셜 로그인</td><td>3. 신규 카테고리 추가</td></tr>
<tr><td>4. Portfolio 리사이징</td><td>4. 권한 관련 기능</td><td>4. ERD 작성</td></tr>
<tr><td>5. 이미지 배너 리사이징</td><td>5. 이미지 업로더 기능</td><td>5. 오프라인 기능 구현</td></tr>
<tr><td>6. 네비게이션 바</td><td>6. 게시판 CRUD</td><td>6. 관리자 기능</td></tr>
<tr><td>7. 모바일 사이드 바</td><td>7. 게시판 상세페이지</td><td>7. Daum 주소 API, 카카오 지도 API 연동</td></tr>
<tr><td>8. 사용자 정보 Drawer</td><td>8.게시판 백엔드 연동</td><td>8. UI 레이아웃 및 CSS 개선</td></tr>
<tr><td>9. FrontEnd 배포</td><td>9. 회원 가입</td><td>9. FrontEnd 배포</td></tr>
<tr><td>10. 기능 테스트</td><td>10. 최종 결과물을 master 가 master Branch 로 합병</td><td>10. 기능 테스트</td></tr>
</table>
<br>

## 🎲 파일/디렉터리 구조
#### Front-End
> - assets
>    - 프로젝트에 필요한 정적 리소스가 위치하는 디렉토리
>    - 이미지, 외부 css, 외부 js등
> - components
>    - 페이지 단위 컴포넌트에서 쓰이는 소규모 컴포넌트가 위치하는 디렉토리
> - services
>    - 프로젝트에 필요한 로직과 관련된 함수 js 파일이 위치하는 디렉토리
> - views
>    - 페이지 단위의 컴포넌트가 위치하는 디렉토리

> - router.js : 라우터 설정 관련 파일
> - store.js : vuex 파일
> - App.vue : 최상위 컴포넌트
> - main.js : 최상위 컴포넌트를 최초 호출하는 JavaScript 파일

#### Back-End
> - controller
>    - 정보 요청을 처리하는 각각의 controller가 위치하는 디렉토리
> - vo
>    - 정보를 save&load할 때 사용하는 객체가 위치하는 디렉토리
> - service
>    - @service단의 각각의 service가 위치하는 디렉토리
> - dao
>    - @Repository단의 각각의 dao가 위치하는 디렉토리
> - error
>    - 예외처리를 위한 클래스가 위치하는 디렉토리
> - interceptor
>    - 사용자의 요청전 사용자의 권한을 인증하는 interceptor가 위치하는 디렉토리

## 🤦 SetUp
### NPM 설치
- [Node.js 공식 홈페이지](https://nodejs.org/ko/) 접속
- 안정성과 신뢰도가 높은 LTS 버전 선택 권장

### NPM 설치여부, 설치된 버전 확인
```cmd
> npm --version
```

### Vue.js, Vue-cli, Firebase 패키지 설치
> ```cmd
> C:\> cd webmobile-skeleton
> C:\webmobile-skeleton> npm install
> C:\webmobile-skeleton> npm install -g yarn
> C:\webmobile-skeleton> npm install -g @vue/cli
> C:\webmobile-skeleton> npm install vue
> C:\webmobile-skeleton> npm install -g firebase-tools
> C:\webmobile-skeleton> npm list
> ```

### npm 이미지 업로더
> ```cmd
> //1. vue-filepond filepond 설치
> $ npm install vue-filepond filepond --save
> 
> //2. 플러그인 설치 옵션 사항
> $ npm install filepond-plugin-file-validate-type --save
> $ npm install filepond-plugin-image-preview --save
> ```

### axios
> ```cmd
> npm install axios
> ```

### Vuex
> ```cmd
> npm install --save vue-session
> npm install --save vuex-persistedstate
> ```

### icon & font
> ```cmd
> npm install @fortawesome/fontawesome-free -D
> npm install @mdi/js -D
> ```


## 😆 Run
### 프로젝트 로컬 실행
#### Front-End
> "App running" 메시지 확인
> ```cmd
> npm run serve
> ```
> cmd창에 뜨는 브라우저 주소로 접속


#### Back-End
> 1. SubPjt_Back_End 프로젝트와 socket 프로젝트 오른쪽 마우스 클릭
> 2. Run As - Spring Boot App 실행
> 3. 에러가 없으면 정상 작동한다는 뜻 


## 👌 Deploy 
### AWS 서버 배포
#### Front-End 
---
##### Build
> 1. 해당 Front-End 프로젝트 폴더에서 cmd창을 실행
> 2. cmd 창에서 아래의 명령어를 실행
> ```cmd
> npm run build
> ```
> 3. build 완료 후 dist 폴더 안에 있는 파일들을 Back-End의 SubPjt_Back_End의 src-main-webapp 폴더 아래 복사


#### Back-End
---
#### 1. WinSCP
- **WinSCP는 마이크로소프트 윈도용으로 개발된 자유 및 오픈 소스 SFTP, SCP 및 FTP 클라이언트**
- **git bash로 aws ubuntu작업하는 것이 불편하기 때문에 설치**
- **[다운로드 사이트(클릭시 바로 다운)](https://winscp.net/download/WinSCP-5.15.9-Setup.exe)**

- 설정 방법
    1. **SCP 프로토콜 선택, 호스트 ip입력, 사용자이름에 ubuntu 입력**

    ![WinSCP설정1](https://user-images.githubusercontent.com/58671945/77723730-9c3bda80-7034-11ea-98e6-a861144155a2.jpg)

    **2. 고급 선택**

    ![WinSCP설정2](https://user-images.githubusercontent.com/58671945/77723734-9cd47100-7034-11ea-849a-c6dea29a7a7b.jpg)

    **3. 인증, 파일 선택 클릭(.pem 파일 넣어야함)**

    ![WinSCP설정3](https://user-images.githubusercontent.com/58671945/77723736-9e059e00-7034-11ea-9fb8-bb90ef4841ea.jpg)

    **4. 모든 개인키 파일 선택**

    ![WinSCP설정4](https://user-images.githubusercontent.com/58671945/77723739-9e9e3480-7034-11ea-9922-4fbe0a7ce34e.jpg)

    **5. .pem 파일을 .ppk로 바꾸어 줌 → 확인 클릭**

    ![WinSCP설정5](https://user-images.githubusercontent.com/58671945/77723743-9f36cb00-7034-11ea-9864-d05cd5e5b92d.jpg)

    **6.  변환된 키 저장하고 cert.ppk 파일 선택**

    ![WinSCP설정6](https://user-images.githubusercontent.com/58671945/77723797-c55c6b00-7034-11ea-8652-32399d57399d.jpg)

    **7. 해당 윈도우 창이 뜨면 성공**

    ![WinSCP설정7](https://user-images.githubusercontent.com/58671945/77723799-c5f50180-7034-11ea-821f-ca79bffa27dd.jpg)

    - **왼쪽이 내로컬 pc, 오른쪽이 원격(aws 서버)**
    - **home/ubuntu/ 하위 폴더 아래에 .war 배포**
    
    
    
#### 2. database(goole cloud platform SQL)
[MySQL용 Cloud SQL 빠른 시작 | Google Cloud](https://cloud.google.com/sql/docs/mysql/quickstart?hl=ko)

 **1.Database 추가 버튼 클릭**

![Google Cloud 설정1](https://user-images.githubusercontent.com/58671945/77723844-e624c080-7034-11ea-976b-76d59d908a76.jpg)

 **2. Google Cloud Platform에 만든 SQL 인스턴스와 연결**
 
![Google Cloud 설정2](https://user-images.githubusercontent.com/58671945/77723845-e755ed80-7034-11ea-9c1f-c12c3fa2341e.jpg)


      1.  커낵션 이름: 원하는 이름 사용

      2. Hostname GCP(구글 클라우드 플랫폼)에 있는 sql 서버 ip를 호스트 사용 포트는 3306
    
      3.  구글 sql 인스턴스 생성시 root 비밀번호 설정한 것 기입

      4. 테스트 연결 해서 성공하면 완료

      5. ok 누르면  생성


![Google Cloud 설정3](https://user-images.githubusercontent.com/58671945/77723846-e7ee8400-7034-11ea-98a5-d146c9d15435.jpg)


 **3. 구글 mysql 서버는 public ip 사용 함으로 해당 ip로 접근한다는 것을 알려 줘야함**

![Google Cloud 설정4](https://user-images.githubusercontent.com/58671945/77723848-e8871a80-7034-11ea-91d4-41f2173af4be.jpg)

 **4. 자신이 배포하는 서버컴퓨터의 아이지 & 서버 ip 등록**

![Google Cloud 설정5](https://user-images.githubusercontent.com/58671945/77723849-e91fb100-7034-11ea-9674-df8c5c54e584.jpg)

     새 네트워크로 접속하려는 ip주소 입력 → ipv4 형식의 ip 주소 넣어야함
     만약 배포했을 때 db서버와 WAS 서버가 다른경우 WAS서버가 배포되고 있는 컴퓨터의 ip를
        구글mysql서버에다가 등록해주어야 함
     aws host 입력하면 됨
     
     

#### 3. .war file build

> 1. 해당 프로젝트 오른쪽 마우스 클릭 - Run As - 4 Maven Build 클릭
> 2. goal에 package입력 후 war파일로 build 

## 🥨Commit/Branch Rules
### Commit
 #### Commit Message 7 Rules
> 1. 제목과 본문을 한 줄 띄워 분리하기
> 2. 제목은 영문 기준 50자 이내로
> 3. 제목 첫글자를 대문자로
> 4. 제목 끝에 . 금지
> 5. 제목은 명령조로
> 6. 본문은 영문 기준 72자마다 줄 바꾸기
> 7. 본문은 어떻게보다 무엇을, 왜에 맞춰 작성하기

 #### 단어 목록
> ##### 기본적으로 [타입] "무엇을" + "왜" 형식으로 관리
> 1. 수정 :: fix
> ```
> //비정상적 동작일 때, 
> //버그 잡을 때,
> [Fix] "무엇을" + ("왜")
> ```

> 2. 수정 :: update
> ```
> //정상적으로 동작할 때, 수정,추가,보완할 때
> [Update] "무엇을" + ("왜")
> ```

> 3. 추가 :: add
> ```
> [Add] "무엇을" + ("왜")
> ```

> 4. 삭제 :: remove
> ```
> [Remove] "무엇을" + ("왜")
> ```

> 5. 전면 수정 :: refactor
> ```
> [Refactor] "무엇을" + ("왜")
> ```

### Branch Naming (브랜치 명명 규칙)
> ##### > Gitlab에는 master와 develop 브랜치, 그리고 master 브랜치의 TAG만 관리한다.

> #### 개발자 PC
> 개발자는 PC에 release, hotfix, feature, issue 브랜치를 생성하여 작업을 진행한다.
> 작업이 완료된 브랜치는 병합후 삭제 가능하며, Gitlab에 반영하지 않는다.

> #### release 브랜치
> - develop 브랜치로부터 생성하는 브랜치이다.
> - 명명 규칙 : release/버젼넘버
>    ex) `release/2.0.0`
> - 브랜치 생성 후에는 버그 픽스만 반영한다.
> - 최종 확정 후에는 develop, master 브랜치에 병합한다.

> #### feature 브랜치
> - develop 브랜치로부터 생성하는 브랜치이다.
> - 명명 규칙 : 년월일_feature_짧은설명
>    ex) `200207_feature_BoardTransition`
> - 완료 후 develop 브랜치에 병합한다.


## 🎵 Entity-RelationShip Diagram
![SubPJT3_erd모델링](https://user-images.githubusercontent.com/58671945/77723948-2421e480-7035-11ea-9402-fb51a2836de8.png)


## 🍧 Interface
> - 링크 : [인터페이스(Swagger)](http://54.180.163.74:8080//swagger-ui.html#/)
<tr>
    <td>
       ![first-rest-Controller](https://user-images.githubusercontent.com/58671945/77723953-25eba800-7035-11ea-8699-418f4c102578.jpg)
    </td>
    <td>
        ![order-rest-Controller](https://user-images.githubusercontent.com/58671945/77723954-26843e80-7035-11ea-90bf-8a4b70a72670.jpg)
    </td>
    <td>
        ![store-rest-Controller](https://user-images.githubusercontent.com/58671945/77723956-271cd500-7035-11ea-8420-f3584b6ec884.jpg)
    </td>
    <td>
        ![user-rest-Controller](https://user-images.githubusercontent.com/58671945/77723958-27b56b80-7035-11ea-9f17-caba95a96acd.jpg)
    </td>
    <td>
        ![board-rest-Controller](https://user-images.githubusercontent.com/58671945/77723960-284e0200-7035-11ea-81b1-62701bd06cb3.jpg)
    </td>
    <td>
        ![kakao-rest-Controller](https://user-images.githubusercontent.com/58671945/77723963-28e69880-7035-11ea-93b4-e728541868de.jpg)
    </td>

</tr>


